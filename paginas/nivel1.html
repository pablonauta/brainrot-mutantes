<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" href="/brainrot-mutantes/img/favicon-32.png" sizes="any">
  <link rel="icon" type="image/png" sizes="32x32" href="/brainrot-mutantes/img/favicon-32.png">
  <link rel="apple-touch-icon" href="/brainrot-mutantes/img/favicon-32.png">
  <title>Loop or Perish — Nivel 1: Órbita de 20</title>
  <link rel="stylesheet" href="/brainrot-mutantes//css/nivel1.css"/>
</head>
<body>
  <header class="topbar">
    <h1>Loop or Perish — Nivel 1: Órbita de 20</h1>
    <p>
      Disponés de <strong>19 “Vueltas”</strong> y <strong>2 “Ciclos”</strong>. Usá
      <strong>exactamente 2 ciclos</strong> en la raíz y dejá <strong>al menos 1 “Vuelta” suelta</strong> fuera de los ciclos.
      Cada ciclo debe contener <strong>una o más “Vueltas”</strong> (nada de ciclos vacíos) y los
      <strong>aportes</strong> de ambos deben ser <strong>distintos</strong>
      <em>(aporte = repeticiones × vueltas internas)</em>.
      Ajustá repeticiones para llegar a <strong id="targetX">20</strong> vueltas exactas. Si no… <em>brain rots</em> 🧠⚡
    </p>
  </header>

  <!-- CONTENEDOR CENTRADO -->
  <main class="container">
    <!-- LAYOUT RESPONSIVE -->
    <div class="layout">
      
      <!-- Panel de bloques -->
      <section class="panel">
        <h2>Inventario</h2>
        <div class="inventory">
          <div class="inv-line">
            <span class="inv-label">Instrucciones (“Vuelta”) restantes</span>
            <span class="inv-badge" id="count-simple">19</span>
          </div>
          <div class="inv-line">
            <span class="inv-label">Ciclos restantes</span>
            <span class="inv-badge" id="count-loops">2</span>
          </div>
        </div>

        <h3>Bloques</h3>
        <div id="blocks-panel" class="blocks">
          <!-- 1 vuelta completa -->
          <div class="block simple" data-type="turn" draggable="true" title="Ejecuta 1 vuelta completa">
            Dar una vuelta al planeta
          </div>

          <!-- contenedor de repeticiones -->
          <div class="block loop" data-type="loop" draggable="true" title="Crear ciclo de repeticiones">
            <div class="loop-head">Repetir <span class="loop-n">3</span>×</div>
            <div class="dropzone"></div>
          </div>
        </div>

        <div class="tools">
          <button id="btn-clear">🧹 Limpiar programa</button>
          <button id="btn-run" disabled>▶ Ejecutar</button>
          <button id="btn-reset">↺ Reiniciar nivel</button>
          <label class="speed">
            Velocidad:
            <input id="speed" type="range" min="50" max="600" value="250" />
          </label>
        </div>

        <div class="plan">
          <div>Meta: <strong id="plan-target">20</strong></div>
          <div>Tu programa ejecuta: <strong id="plan-now">0</strong></div>
        </div>

        <details class="tips">
          <summary>Consejos</summary>
          <ul>
            <li>En <strong>Programa</strong> (raíz) soltá solo <strong>loops</strong> (máximo 2).</li>
            <li>Dentro de cada loop, soltá <strong>una o más “Vueltas”</strong> (no dejes ciclos vacíos).</li>
            <li>Dejá <strong>al menos 1 “Vuelta” suelta</strong> en la raíz (fuera de ciclos).</li>
            <li>Los <strong>aportes</strong> de los dos ciclos deben ser <strong>distintos</strong> (<em>reps × vueltas internas</em>).</li>
            <li>Hacé clic en el número del loop para cambiar repeticiones (1–20).</li>
            <li>Podés ejecutar en cualquier momento; si no cumple, verás un diagnóstico hasta llegar a <strong>20</strong>.</li>
          </ul>
        </details>
      </section>

      <!-- Área de trabajo -->
      <section class="workspace">
        <h2>Programa</h2>
        <div id="workspace" class="dropzone root-drop"></div>
      </section>

      <!-- Tablero decorativo -->
      <section class="game">
        <h2>Tablero</h2>
        <div id="board" class="board"></div>
        <div class="legend">
          <span>🪐 = Planeta</span>
        </div>
      </section>
    </div>
  </main>

  <footer class="foot">
    <small>“Si no son 20 exactas… los brain rots se propagan.”</small>
  </footer>

  <script src="/scripts/nivel1.js"></script>
</body>
</html>
